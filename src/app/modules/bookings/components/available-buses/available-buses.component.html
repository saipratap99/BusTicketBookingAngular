<app-search-buses [selectedDepartureLocation]="departureLocation" [selectedArrivalLocation]="arrivalLocation" [selectedDate]="date"></app-search-buses>
<div *ngIf="availableBuses.length > 0">
    <div class="d-flex justify-content-center align-items-center grey-color p-3">
        <div><strong>Sort By</strong></div>
        <div><button class="button">
            Price
            <fa-icon [icon]="ascIcon" class="p-2" style="color: #d64c39;"></fa-icon> 
        </button></div>
        <div> | </div>
        <div>
            <button class="button p-2">Departure Time
                <fa-icon [icon]="ascIcon" class="p-2" style="color: #d64c39;"></fa-icon> 
            </button>
        </div>
        <div> | </div>

        <div>
            <button class="button">
                Arrival Time 
                <fa-icon [icon]="ascIcon" class="p-2" style="color: #d64c39;"></fa-icon>    
            </button>

        </div>
    </div>
    <!-- <h4 class="text-primary text-center">Available Buses from {{departureLocation.locationName}} to {{arrivalLocation.locationName}} on {{date | date: 'fullDate'}}: </h4> -->
    <div class="row px-3">
        <div class="filter-menu col-3 border rounded p-2">
            <div class="border-bottom p-2">
                <h5>Filter</h5>
                <p class="text-muted small">Showing {{availableBuses.length}} of {{availableBuses.length}} buses </p>
            </div>
            <div class="border-bottom p-2">
                <h6>Bus Type</h6>
                <ul class="list-styling-none">
                    <li class="d-flex justify-contet-center align-items-center">
                        <input type="checkbox" name="AC" id="AC" class="m-2"> 
                        <label for="AC"> AC </label>
                    </li>
                    <li class="d-flex justify-contet-center align-items-center">
                        <input type="checkbox" name="Non-AC" id="Non-AC" class="m-2"> 
                        <label for="Non-AC"> Non-AC </label>
                    </li>
                    <li class="d-flex justify-contet-center align-items-center">
                        <input type="checkbox" name="Sleeper" id="Sleeper" class="m-2"> 
                        <label for="Sleeper"> Sleeper </label>
                    </li>
                    <li class="d-flex justify-contet-center align-items-center">
                        <input type="checkbox" name="Semi" id="Semi" class="m-2"> 
                        <label for="Semi"> Semi Sleeper </label>
                    </li>
                </ul>
            </div>
            <div class="border-bottom p-2">
                <h6>Price</h6>
                <input type="range" name="price" id="price" min="100" max="2000"> 
                <div class="d-flex justify-content-between">
                    <span class="text-muted small">{{'100' | currency: 'INR'}}</span>
                    <span class="text-muted small">{{'2000' | currency: 'INR'}}</span>
                </div>
            </div>
        </div>
        <div class="available-buses-list col-9">
            <div class="bus p-3 border rounded mb-2 d-flex" *ngFor="let bus of availableBuses">
                <h5 class="bus-name">{{bus.busDetails.busName}}</h5>
                <div class="d-flex justify-content-between align-items-center">
                    <div class="col row text-center">
                        <div>{{ (date + ' ' + bus.departureTime) | date: 'shortTime' }}</div>
                        <div class="text-muted small">{{bus.serviceDetails.departureLocation.locationName}}</div>
                    </div>			
                    <div class="col row text-center">
                        <div><fa-icon [icon]="rightArrow"></fa-icon></div>
                        <div class="text-muted small">{{ bus.duration | minutesToHHMM }} </div>    
                    </div>		
                    <div class="col row text-center">
                        <div>{{ (date + ' ' + bus.departureTime) | addMinutesToStrDate: bus.duration | date: 'shortTime' }}</div>
                        <div class="text-muted small">{{bus.serviceDetails.arrivalLocation.locationName}}</div>
                    </div>			
                    <div class="col mx-3 text-bold">
                        <strong>{{ bus.basePrice | currency: 'INR'}}</strong>
                    </div>
                    <div class="col">
                        <button class="btn btn-primary" (click)="getSeatLayout(bus.id, bus.busDetails.id, bus.departureTime)">Select Seats</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="availableBuses.length == 0" class="my-4 text-center">
    <h3>No buses available on this route on this date.</h3>
</div>